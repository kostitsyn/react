"use strict";(self.webpackChunknew_app=self.webpackChunknew_app||[]).push([[558],{9558:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var t=r(5671),i=r(3144),u=r(136),s=r(5716),o=r(2791),a=r(364),c=r(7884),l=(r(4569),r(8890),r(6600),r(3504)),f=r(184),d=function(e){var n=e.user,r=e.isAuth,t=e.followed,i=e.addFriend,u=e.deleteFriend,s=e.followingInProgress;return(0,f.jsxs)("div",{className:c.Z.friend,children:[(0,f.jsxs)(l.OL,{to:"/profile/".concat(n.id),className:c.Z.userLink,children:[(0,f.jsx)("img",{src:n.imgLink,alt:"ava"}),(0,f.jsx)("span",{className:c.Z.friendName,children:n.username})]}),(0,f.jsx)("a",{href:"#",className:c.Z.writeMsg,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),r?t?(0,f.jsx)("button",{disabled:s.some((function(e){return e===n.id})),onClick:function(){return e=n.id,void u(e);var e},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439"}):(0,f.jsx)("button",{disabled:s.some((function(e){return e===n.id})),onClick:function(){return e=n.id,void i(e);var e},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f"}):null]})},p="Users_users__NJhZ8",g=r(4904),h=r(885),v=r(5987),m="Paginator_selectedPage__CRNLp",y="Paginator_element__KcaCy",P=["totalObjectsCount","pageSize","currentPage","changeUsersOnPage","portionSize"],j=function(e){for(var n=e.totalObjectsCount,r=e.pageSize,t=e.currentPage,i=e.changeUsersOnPage,u=e.portionSize,s=void 0===u?2:u,a=(0,v.Z)(e,P),c=Math.ceil(n/r),l=[],d=1;d<=c;++d)l.push(d);var p=Math.ceil(c/s),g=(0,o.useState)(1),j=(0,h.Z)(g,2),F=j[0],w=j[1],x=(F-1)*s+1,_=F*s,C=function(e){"PREVIOUS"==e.target.innerText?a.requestObjects(void 0,x-s):"NEXT"==e.target.innerText&&a.requestObjects(void 0,x+s)};return(0,f.jsxs)("div",{children:[F>1&&(0,f.jsx)("button",{onClick:function(e){w(F-1),C(e)},children:"PREVIOUS"}),l.filter((function(e){return e>=x&&e<=_})).map((function(e){return(0,f.jsx)("span",{onClick:function(n){return i(e)},className:"".concat(y," ").concat(t===e?m:void 0),children:e},e)})),F<p&&(0,f.jsx)("button",{onClick:function(e){w(F+1),C(e)},children:"NEXT"})]})},F=function(e){var n=e.profile,r=e.users,t=e.isAuth,i=e.totalUsersCount,u=e.friends,s=e.pageSize,o=e.currentPage,a=e.isFetching,c=e.addFriend,l=e.deleteFriend,h=e.followingInProgress,v=e.changeUsersOnPage,m=e.requestUsers,y=(n?r.filter((function(e){return e.id!==n.id})):r).map((function(e){return(0,f.jsx)(d,{addFriend:c,deleteFriend:l,followed:u.includes(e.id),followingInProgress:h,user:e,isAuth:t},e.id)}));return(0,f.jsx)(f.Fragment,{children:a?(0,f.jsx)(g.Z,{}):(0,f.jsxs)("div",{children:[(0,f.jsx)(j,{totalObjectsCount:i,pageSize:s,currentPage:o,changeUsersOnPage:v,requestObjects:m}),(0,f.jsx)("div",{className:p,children:y})]})})},w=r(2648),x=r(2938),_="NOT_FOUND";var C=function(e,n){return e===n};function k(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,i=void 0===t?C:t,u=r.maxSize,s=void 0===u?1:u,o=r.resultEqualityCheck,a=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,i=0;i<t;i++)if(!e(n[i],r[i]))return!1;return!0}}(i),c=1===s?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:_},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(a):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var i=r[t];return t>0&&(r.splice(t,1),r.unshift(i)),i.value}return _}return{get:t,put:function(n,i){t(n)===_&&(r.unshift({key:n,value:i}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(s,a);function l(){var n=c.get(arguments);if(n===_){if(n=e.apply(null,arguments),o){var r=c.getEntries(),t=r.find((function(e){return o(e.value,n)}));t&&(n=t.value)}c.put(arguments,n)}return n}return l.clearCache=function(){return c.clear()},l}function O(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function U(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var i=function(){for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];var u,s=0,o={memoizeOptions:void 0},a=t.pop();if("object"===typeof a&&(o=a,a=t.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var c=o,l=c.memoizeOptions,f=void 0===l?r:l,d=Array.isArray(f)?f:[f],p=O(t),g=e.apply(void 0,[function(){return s++,a.apply(null,arguments)}].concat(d)),h=e((function(){for(var e=[],n=p.length,r=0;r<n;r++)e.push(p[r].apply(null,arguments));return u=g.apply(null,e)}));return Object.assign(h,{resultFunc:a,memoizedResultFunc:g,dependencies:p,lastResult:function(){return u},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),h};return i}var b=U(k),S=function(e){return e.friendsPage.friends},z=function(e){return e.profilePage.profile},N=b((function(e){return e.users.users}),(function(e){return e.filter((function(e){return!0}))})),A=function(e){return e.users.currentPage},Z=function(e){return e.users.totalUsersCount},q=function(e){return e.users.pageSize},E=function(e){return e.users.isFetching},I=function(e){return e.users.followingInProgress},R=function(e){return e.auth.isAuthenticated},L=function(e){(0,u.Z)(r,e);var n=(0,s.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var i=arguments.length,u=new Array(i),s=0;s<i;s++)u[s]=arguments[s];return(e=n.call.apply(n,[this].concat(u))).changeUsersOnPage=function(n){var r=e.props,t=r.pageSize;(0,r.requestUsers)(t,n)},e}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,n=e.pageSize,r=e.currentPage;(0,e.requestUsers)(n,r)}},{key:"render",value:function(){return(0,f.jsx)(F,{addFriend:this.props.addFriend,isAuth:this.props.isAuth,profile:this.props.profile,deleteFriend:this.props.deleteFriend,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,friends:this.props.friends,changeUsersOnPage:this.changeUsersOnPage,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,requestUsers:this.props.requestUsers})}}]),r}(o.Component),M=(0,a.$j)((function(e){return{friends:S(e),profile:z(e),users:N(e),currentPage:A(e),totalUsersCount:Z(e),pageSize:q(e),isFetching:E(e),followingInProgress:I(e),isAuth:R(e)}}),{addFriend:w.SK,deleteFriend:w.J0,requestUsers:x.D7})(L)},7884:function(e,n){n.Z={friend:"Friend_friend__R-dRL",userLink:"Friend_userLink__XVv+7",friendName:"Friend_friendName__g5O1C",writeMsg:"Friend_writeMsg__ZvfYW"}}}]);
//# sourceMappingURL=558.1d6c1d32.chunk.js.map