{"version":3,"file":"static/js/637.2785794f.chunk.js","mappings":"6NACA,EAA4B,oCAA5B,EAAsE,8BAAtE,EAA2G,+BAA3G,EAAiJ,+BAAjJ,EAAuL,+B,SCevL,EAbyB,SAACA,GACtB,IAAIC,EAAU,IAAIC,KAAKF,EAAMG,MACzBC,EAAQ,UAAMH,EAAQI,WAAd,YAA4BJ,EAAQK,cAChD,OACI,iBAAKC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAOC,IAAKT,EAAMU,UAAUC,QAASC,IAAI,SACzD,kBAAML,UAAWC,EAAjB,UAA0BR,EAAMU,UAAUG,SAA1C,KAAoD,iBAAMN,UAAWC,EAAjB,SAA0BJ,QAE9E,iBAAMG,UAAWC,EAAjB,SAA0BR,EAAMc,cCV5C,EAAqB,uBAArB,EAAmD,yBAAnD,EAAmF,yBAAnF,EAAmH,yBAAnH,EAAkJ,wBCclJ,EAZmB,SAAC,GAAkC,IAAjCX,EAAgC,EAAhCA,KAAMY,EAA0B,EAA1BA,YAAaD,EAAa,EAAbA,QAChCb,EAAU,IAAIC,KAAKC,GACnBC,EAAQ,UAAMH,EAAQI,WAAd,YAA4BJ,EAAQK,cAChD,OACI,iBAAKC,UAAWC,EAAhB,WACI,kBAAMD,UAAWC,EAAjB,WAAyB,iBAAMD,UAAWC,EAAjB,SAA0BJ,IAAnD,IAAqEW,EAAYF,aACjF,iBAAMN,UAAWC,EAAjB,SAA0BM,KAC1B,gBAAKP,UAAWC,EAAOC,IAAKM,EAAYJ,QAASC,IAAI,YCTjE,K,uCCOMI,GAAuBC,EAAAA,EAAAA,GAAiB,IACxCC,GAAWC,EAAAA,EAAAA,GAAQ,YAYnBC,GAAsBC,EAAAA,EAAAA,GAAU,CAACC,KAAM,UAAjBD,EAVL,SAAC,GAAoB,IAAnBE,EAAkB,EAAlBA,aACrB,OACI,kBAAMC,SAAUD,EAAhB,WACI,SAACE,EAAA,EAAD,CAAOC,KAAK,OAAOC,SAAU,CAACC,EAAAA,EAAUZ,GACxCa,YAAY,oGAAoBC,UAAWZ,KAC3C,6FAgCZ,EAzBiB,SAAC,GAA4C,IAA3Ca,EAA0C,EAA1CA,SAAUC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,WACrCC,EAAkBJ,EAASK,MAAK,SAAAC,GAAC,OAAIA,EAAEC,WAAaC,OAAOP,EAAOQ,OAClEC,EAAcN,EAAgBJ,SAAS,GAAGW,OAAOF,KAAOP,EACtBE,EAAgBJ,SAAS,GAAGW,OAAOF,GACnCL,EAAgBJ,SAAS,GAAGY,UAAUH,GACxEI,EAAkBT,EAAgBJ,SAASc,KAAI,SAAAR,GAAC,OAAIA,EAAEK,OAAOF,KAAOP,GAC5C,SAAC,EAAD,CAAkBvB,UAAW2B,EAAEK,OAAQ5B,QAASuB,EAAES,KAAM3C,KAAMkC,EAAEU,UAAhE,UAAkFV,EAAEG,IAApF,OAAyFH,EAAEvB,WAC3F,SAAC,EAAD,CAAYC,YAAasB,EAAEK,OAAQ5B,QAASuB,EAAES,KAAM3C,KAAMkC,EAAEU,UAA5D,UAA8EV,EAAEG,IAAhF,OAAqFH,EAAEvB,aAQnH,OACI,2BACK8B,GACD,gBAAKrC,UAAWC,EAAAA,WAAhB,UACI,SAACY,EAAD,CAAqBI,SARpB,SAACwB,GACVd,EAAWC,EAAgBG,SAAUL,EAAQQ,EAAcO,EAASF,e,6BC3BtEG,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAGD,OAHCA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,CAAAA,IAAAA,SAAAA,MACF,WACI,OAAO,SAAC,GAAD,UAAcC,KAAKlD,YAC7B,EAHCiD,CAA0BE,EAAAA,WAgBhC,GAAeC,EAAAA,EAAAA,IACXC,EAAAA,GACAC,EAAAA,EAAAA,KAXkB,SAACC,GACnB,MAAO,CACHxB,SAAUwB,EAAMC,aAAazB,SAC7B0B,eAAgBF,EAAMC,aAAaC,eACnCC,OAAQH,EAAMI,KAAKC,gBACnB3B,OAAQsB,EAAMI,KAAK1B,UAME,CAACC,WAAAA,EAAAA,KAF9B,CAGEe","sources":["webpack://new_app/./src/components/Navbar/MainNavbar/Messages/MessageCompanion/MessageCompanion.module.css?98b6","components/Navbar/MainNavbar/Messages/MessageCompanion/MessageCompanion.jsx","webpack://new_app/./src/components/Navbar/MainNavbar/Messages/OwnMessage/OwnMessage.module.css?a04b","components/Navbar/MainNavbar/Messages/OwnMessage/OwnMessage.jsx","components/Navbar/MainNavbar/Messages/Messages.module.css","components/Navbar/MainNavbar/Messages/Messages.jsx","components/Navbar/MainNavbar/Messages/MessagesContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"companion\":\"MessageCompanion_companion__hoVos\",\"ava\":\"MessageCompanion_ava__GLWar\",\"time\":\"MessageCompanion_time__rziPU\",\"text\":\"MessageCompanion_text__pMrCS\",\"name\":\"MessageCompanion_name__gKbBu\"};","import React from 'react';\nimport c from './MessageCompanion.module.css';\n\nconst MessageCompanion = (props) => {\n    let dateObj = new Date(props.date);\n    let timeSend = `${dateObj.getHours()}:${dateObj.getMinutes()}`;\n    return (\n        <div className={c.companion}>\n            <img className={c.ava} src={props.companion.imgLink} alt='ava' />\n            <span className={c.name}>{props.companion.username} <span className={c.time}>{timeSend}</span></span>\n\n            <span className={c.text}>{props.message}</span>\n        </div>\n    )\n}\n\nexport default MessageCompanion;","// extracted by mini-css-extract-plugin\nexport default {\"me\":\"OwnMessage_me__SKxW3\",\"time\":\"OwnMessage_time__Nqtmw\",\"name\":\"OwnMessage_name__+jpqx\",\"text\":\"OwnMessage_text__sljye\",\"ava\":\"OwnMessage_ava__jxbBk\"};","import c from \"./OwnMessage.module.css\";\nimport React from \"react\";\n\nconst OwnMessage = ({date, currentUser, message}) => {\n    let dateObj = new Date(date);\n    let timeSend = `${dateObj.getHours()}:${dateObj.getMinutes()}`;\n    return (\n        <div className={c.me}>\n            <span className={c.name}><span className={c.time}>{timeSend}</span> {currentUser.username}</span>\n            <span className={c.text}>{message}</span>\n            <img className={c.ava} src={currentUser.imgLink} alt='ava' />\n        </div>\n    )\n}\n\nexport default OwnMessage;","// extracted by mini-css-extract-plugin\nexport default {};","import React from \"react\";\nimport MessageCompanion from \"./MessageCompanion/MessageCompanion\";\nimport OwnMessage from \"./OwnMessage/OwnMessage\";\nimport c from './Messages.module.css';\nimport {Field, reduxForm} from 'redux-form';\nimport {required, maxLengthCreator} from '../../../../utils/validators/validators';\nimport {Element} from '../../../common/FormsControls/FormsControls';\n\nconst maxLengthValidator15 = maxLengthCreator(15);\nconst Textarea = Element('textarea');\n\nconst AddMessageForm = ({handleSubmit}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <Field name='text' validate={[required, maxLengthValidator15]}\n            placeholder='Введите сообщение' component={Textarea} />\n            <button>Сохранить</button>\n        </form>\n    )\n}\n\nconst AddMessageReduxForm = reduxForm({form: 'addMsg'})(AddMessageForm);\n\nconst Messages = ({messages, router, userId, addMessage}) => {\n    let currentMessages = messages.find(m => m.dialogId === Number(router.id));\n    let companionId = currentMessages.messages[0].sender.id !== userId\n                                        ? currentMessages.messages[0].sender.id\n                                        : currentMessages.messages[0].recipient.id;\n    let messageElements = currentMessages.messages.map(m => m.sender.id !== userId\n                              ? <MessageCompanion companion={m.sender} message={m.text} date={m.dateSend} key={`${m.id}${m.message}`} />\n                              : <OwnMessage currentUser={m.sender} message={m.text} date={m.dateSend} key={`${m.id}${m.message}`} /> )\n\n\n\n    let addMsg = (formData) => {\n        addMessage(currentMessages.dialogId, userId, companionId,  formData.text);\n    }\n\n    return (\n        <div>\n            {messageElements}\n            <div className={c.inputBlock}>\n                <AddMessageReduxForm onSubmit={addMsg} />\n            </div>\n        </div>\n    )\n}\n\nexport default Messages;","import React from \"react\";\nimport {addMessage} from \"../../../../redux/messages-reducer\";\nimport Messages from './Messages';\nimport {connect} from 'react-redux';\nimport {withRouter} from '../../../../hoc/withRouter';\nimport {compose} from 'redux';\n\n\nclass MessagesContainer extends React.Component {\n    render() {\n        return <Messages {...this.props}/>\n    }\n}\n\n\nlet mapStateToProps = (state) => {\n    return {\n        messages: state.messagesPage.messages,\n        newMessageText: state.messagesPage.newMessageText,\n        isAuth: state.auth.isAuthenticated,\n        userId: state.auth.userId,\n    }\n}\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {addMessage})\n)(MessagesContainer);\n\n"],"names":["props","dateObj","Date","date","timeSend","getHours","getMinutes","className","c","src","companion","imgLink","alt","username","message","currentUser","maxLengthValidator15","maxLengthCreator","Textarea","Element","AddMessageReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","name","validate","required","placeholder","component","messages","router","userId","addMessage","currentMessages","find","m","dialogId","Number","id","companionId","sender","recipient","messageElements","map","text","dateSend","formData","MessagesContainer","this","React","compose","withRouter","connect","state","messagesPage","newMessageText","isAuth","auth","isAuthenticated"],"sourceRoot":""}