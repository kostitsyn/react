"use strict";(self.webpackChunknew_app=self.webpackChunknew_app||[]).push([[637],{5637:function(e,s,a){a.r(s),a.d(s,{default:function(){return L}});var n=a(8683),t=a(5671),r=a(3144),i=a(136),c=a(5716),o=a(2791),d=a(8649),m="MessageCompanion_companion__hoVos",u="MessageCompanion_ava__GLWar",g="MessageCompanion_time__rziPU",l="MessageCompanion_text__pMrCS",p="MessageCompanion_name__gKbBu",_=a(184),x=function(e){var s=new Date(e.date),a="".concat(s.getHours(),":").concat(s.getMinutes());return(0,_.jsxs)("div",{className:m,children:[(0,_.jsx)("img",{className:u,src:e.companion.imgLink,alt:"ava"}),(0,_.jsxs)("span",{className:p,children:[e.companion.username," ",(0,_.jsx)("span",{className:g,children:a})]}),(0,_.jsx)("span",{className:l,children:e.message})]})},h="OwnMessage_me__SKxW3",j="OwnMessage_time__Nqtmw",f="OwnMessage_name__+jpqx",M="OwnMessage_text__sljye",v="OwnMessage_ava__jxbBk",w=function(e){var s=e.date,a=e.currentUser,n=e.message,t=new Date(s),r="".concat(t.getHours(),":").concat(t.getMinutes());return(0,_.jsxs)("div",{className:h,children:[(0,_.jsxs)("span",{className:f,children:[(0,_.jsx)("span",{className:j,children:r})," ",a.username]}),(0,_.jsx)("span",{className:M,children:n}),(0,_.jsx)("img",{className:v,src:a.imgLink,alt:"ava"})]})},N={},C=a(6139),b=a(704),k=a(5304),S=a(9086),Z=(0,k.D)(15),I=(0,S.W)("textarea"),O=(0,b.Z)({form:"addMsg"})((function(e){var s=e.handleSubmit;return(0,_.jsxs)("form",{onSubmit:s,children:[(0,_.jsx)(C.Z,{name:"text",validate:[k.C,Z],placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",component:I}),(0,_.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})),q=function(e){var s=e.messages,a=e.router,n=e.userId,t=e.addMessage,r=s.find((function(e){return e.dialogId===Number(a.id)})),i=r.messages[0].sender.id!==n?r.messages[0].sender.id:r.messages[0].recipient.id,c=r.messages.map((function(e){return e.sender.id!==n?(0,_.jsx)(x,{companion:e.sender,message:e.text,date:e.dateSend},"".concat(e.id).concat(e.message)):(0,_.jsx)(w,{currentUser:e.sender,message:e.text,date:e.dateSend},"".concat(e.id).concat(e.message))}));return(0,_.jsxs)("div",{children:[c,(0,_.jsx)("div",{className:N.inputBlock,children:(0,_.jsx)(O,{onSubmit:function(e){t(r.dialogId,n,i,e.text)}})})]})},y=a(364),B=a(5628),D=a(7781),H=function(e){(0,i.Z)(a,e);var s=(0,c.Z)(a);function a(){return(0,t.Z)(this,a),s.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){return(0,_.jsx)(q,(0,n.Z)({},this.props))}}]),a}(o.Component),L=(0,D.qC)(B.E,(0,y.$j)((function(e){return{messages:e.messagesPage.messages,newMessageText:e.messagesPage.newMessageText,isAuth:e.auth.isAuthenticated,userId:e.auth.userId}}),{addMessage:d.Hz}))(H)}}]);
//# sourceMappingURL=637.2785794f.chunk.js.map